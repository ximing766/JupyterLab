<!DOCTYPE html>
<html>
<head>
<style>
.frame-structure { display: flex; margin: 20px 0; }
.frame-part { border: 1px solid #000; padding: 8px; text-align: center; }
.command-table { border-collapse: collapse; width: 100%; }
.command-table td, .command-table th { border: 1px solid #ddd; padding: 8px; }
.example-frame { display: flex; margin: 10px 0; }
.example-byte { padding: 4px; border: 1px solid #666; margin: 2px; min-width: 40px; }
.highlight { background-color: #f0f0f0; }
.annotation { color: #666; font-size: 0.9em; margin: 8px 0; }
</style>
</head>
<body>

<!-- 数据帧结构图 -->
<h3>数据帧结构</h3>
<div class="frame-structure">
  <div class="frame-part" style="background-color: #e6f7ff">起始位<br>1字节</div>
  <div class="frame-part" style="background-color: #ffe6e6">命令码<br>1字节</div>
  <div class="frame-part" style="background-color: #e6ffe6">数据字段<br>8字节</div>
  <div class="frame-part" style="background-color: #fff2e6">校验和<br>1字节</div>
  <div class="frame-part" style="background-color: #f0e6ff">结束位<br>1字节</div>
</div>
<div class="annotation">* 数据字段若不足8字节，需右侧补零填充。</div>

<!-- 命令码定义表 -->
<h3>命令码定义</h3>
<table class="command-table">
  <tr><th>命令码</th><th>操作</th><th>数据字段说明</th></tr>
  <tr><td>0x00</td><td>传递用户卡号/UID</td><td>门禁、电梯、身份识别共用；8字节卡号，右补零</td></tr>
  <tr><td>0x01</td><td>呼叫电梯</td><td>0x01:上行 0x02:下行<br>0x03:低区 0x04:中区 0x05:高区</td></tr>
  <tr><td>0x02</td><td>选择楼层</td><td>楼层号（1字节），填充至8字节（右补零）</td></tr>
</table>

<!-- 示例数据帧 -->
<h3>示例数据帧</h3>
<p>1. 传递用户卡号（UID: 0x12345678）：</p>
<div class="example-frame">
  <div class="example-byte highlight">0xFF</div>
  <div class="example-byte highlight">0x00</div>
  <div class="example-byte">0x12</div>
  <div class="example-byte">0x34</div>
  <div class="example-byte">0x56</div>
  <div class="example-byte">0x78</div>
  <div class="example-byte">0x00</div>
  <div class="example-byte">0x00</div>
  <div class="example-byte">0x00</div>
  <div class="example-byte">0x00</div>
  <div class="example-byte highlight">0x13</div>
  <div class="example-byte highlight">0xAA</div>
</div>

<p>2. 呼叫电梯上行：</p>
<div class="example-frame">
  <div class="example-byte highlight">0xFF</div>
  <div class="example-byte highlight">0x01</div>
  <div class="example-byte">0x01</div>
  <div class="example-byte">0x00</div>
  <div class="example-byte">0x00</div>
  <div class="example-byte">0x00</div>
  <div class="example-byte">0x00</div>
  <div class="example-byte">0x00</div>
  <div class="example-byte">0x00</div>
  <div class="example-byte">0x00</div>
  <div class="example-byte highlight">0x01</div>
  <div class="example-byte highlight">0xAA</div>
</div>

<p>3. 选择5楼（楼层号0x15）：</p>
<div class="example-frame">
  <div class="example-byte highlight">0xFF</div>
  <div class="example-byte highlight">0x02</div>
  <div class="example-byte">0x15</div>
  <div class="example-byte">0x00</div>
  <div class="example-byte">0x00</div>
  <div class="example-byte">0x00</div>
  <div class="example-byte">0x00</div>
  <div class="example-byte">0x00</div>
  <div class="example-byte">0x00</div>
  <div class="example-byte">0x00</div>
  <div class="example-byte highlight">0x16</div>
  <div class="example-byte highlight">0xAA</div>
</div>

<div class="annotation">* 高亮部分：起始位（蓝）、命令码（红）、校验和（橙）、结束位（紫）</div>

<!-- 校验和计算 -->
<h3>校验和计算示例（呼叫电梯上行）</h3>
<div style="border: 1px solid #ccc; padding: 10px; font-family: monospace;">
  计算规则：起始位 + 命令码 + 数据字段（含补零）<br>
  0xFF + 0x01 + [0x01 0x00 0x00 0x00 0x00 0x00 0x00 0x00] = <br>
  (0xFF + 0x01 + 0x01 + 0x00×7) = 0x101 → 取低8位 → 0x01
</div>

</body>
</html>